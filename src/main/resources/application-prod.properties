# ========================================
# 운영환경 설정 (PROD)
# ========================================

# Oracle Database (PROD)
spring.datasource.url=jdbc:oracle:thin:@prod-oracle-server:1521/PRODDB
spring.datasource.username=SC_HAPP_PROD
spring.datasource.password=${DB_PASSWORD:prod-password}
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# JPA
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect

# Spring Batch
spring.batch.jdbc.initialize-schema=never
spring.batch.jdbc.table-prefix=BATCH_

# Redis (PROD)
spring.redis.host=prod-redis-server
spring.redis.port=6379
spring.redis.database=0
spring.redis.timeout=5000ms
spring.redis.lettuce.pool.max-active=16
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=4

# Oracle DB 타임아웃 (PROD)
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10

# FCM (PROD) - 서버 경로 사용
fcm.service-account-key-path=/wasapp/hdlp_meap/push_app/certification/firebase-service-account.json
fcm.project-id=hyundai-happs-prod

# APNS (PROD) - 서버 경로 .p8 파일 사용
apns.key-path=/wasapp/hdlp_meap/push_app/certification/apns-key-prod.p8
apns.environment=production
apns.bundle-id=com.hyundai.happs

# Batch 설정
batch.push.chunk-size=200
batch.push.max-retry=5

# 로깅 레벨 (PROD)
logging.level.com.hyundai.happsbtch=INFO
logging.level.org.springframework.batch=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# 성능 최적화
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
